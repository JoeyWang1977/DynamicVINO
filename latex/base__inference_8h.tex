\hypertarget{base__inference_8h}{}\section{include/openvino\+\_\+service/inferences/base\+\_\+inference.h File Reference}
\label{base__inference_8h}\index{include/openvino\+\_\+service/inferences/base\+\_\+inference.\+h@{include/openvino\+\_\+service/inferences/base\+\_\+inference.\+h}}
{\ttfamily \#include $<$memory$>$}\\*
{\ttfamily \#include \char`\"{}opencv2/opencv.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}inference\+\_\+engine.\+hpp\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openvino\+\_\+service/engines/engine.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openvino\+\_\+service/data\+\_\+struct.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openvino\+\_\+service/outputs/output.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}openvino\+\_\+service/slog.\+hpp\char`\"{}}\\*
Include dependency graph for base\+\_\+inference.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{base__inference_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{base__inference_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{classopenvino__service_1_1BaseInference}{openvino\+\_\+service\+::\+Base\+Inference}
\begin{DoxyCompactList}\small\item\em base class for network inference. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \hyperlink{namespaceopenvino__service}{openvino\+\_\+service}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename T $>$ }\\void \hyperlink{base__inference_8h_a0390f9806b426838730c16686f1b8a5a}{mat\+U8\+To\+Blob} (const cv\+::\+Mat \&orig\+\_\+image, Inference\+Engine\+::\+Blob\+::\+Ptr \&blob, float scale\+\_\+factor=1.\+0, \hyperlink{CMakeCache_8txt_a79a3d8790b2588b09777910863574e09}{int} batch\+\_\+index=0)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{base\+\_\+inference.\+h@{base\+\_\+inference.\+h}!mat\+U8\+To\+Blob@{mat\+U8\+To\+Blob}}
\index{mat\+U8\+To\+Blob@{mat\+U8\+To\+Blob}!base\+\_\+inference.\+h@{base\+\_\+inference.\+h}}
\subsubsection[{\texorpdfstring{mat\+U8\+To\+Blob(const cv\+::\+Mat \&orig\+\_\+image, Inference\+Engine\+::\+Blob\+::\+Ptr \&blob, float scale\+\_\+factor=1.\+0, int batch\+\_\+index=0)}{matU8ToBlob(const cv::Mat &orig_image, InferenceEngine::Blob::Ptr &blob, float scale_factor=1.0, int batch_index=0)}}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename T $>$ void mat\+U8\+To\+Blob (
\begin{DoxyParamCaption}
\item[{const cv\+::\+Mat \&}]{orig\+\_\+image, }
\item[{Inference\+Engine\+::\+Blob\+::\+Ptr \&}]{blob, }
\item[{float}]{scale\+\_\+factor = {\ttfamily 1.0}, }
\item[{{\bf int}}]{batch\+\_\+index = {\ttfamily 0}}
\end{DoxyParamCaption}
)}\hypertarget{base__inference_8h_a0390f9806b426838730c16686f1b8a5a}{}\label{base__inference_8h_a0390f9806b426838730c16686f1b8a5a}


Definition at line 21 of file base\+\_\+inference.\+h.


\begin{DoxyCode}
24                                  \{
25   InferenceEngine::SizeVector blob\_size = blob->getTensorDesc().getDims();
26   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} width = blob\_size[3];
27   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} height = blob\_size[2];
28   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} channels = blob\_size[1];
29   T *blob\_data = blob->buffer().as<T *>();
30 
31   cv::Mat resized\_image(orig\_image);
32   \textcolor{keywordflow}{if} (width != orig\_image.size().width ||
33       height != orig\_image.size().height) \{
34     cv::resize(orig\_image, resized\_image, cv::Size(width, height));
35   \}
36   \textcolor{keywordtype}{int} batchOffset = batch\_index * width * height * channels;
37 
38   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \hyperlink{CMakeCache_8txt_aac1d6a1710812201527c735f7c6afbaa}{c} = 0; \hyperlink{CMakeCache_8txt_aac1d6a1710812201527c735f7c6afbaa}{c} < channels; \hyperlink{CMakeCache_8txt_aac1d6a1710812201527c735f7c6afbaa}{c}++) \{
39     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} h = 0; h < height; h++) \{
40       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} w = 0; w < width; w++) \{
41         blob\_data[batchOffset + \hyperlink{CMakeCache_8txt_aac1d6a1710812201527c735f7c6afbaa}{c} * width * height + h * width + w] =
42             resized\_image.at<cv::Vec3b>(h, w)[\hyperlink{CMakeCache_8txt_aac1d6a1710812201527c735f7c6afbaa}{c}] * scale\_factor;
43       \}
44     \}
45   \}
46 \}
\end{DoxyCode}
